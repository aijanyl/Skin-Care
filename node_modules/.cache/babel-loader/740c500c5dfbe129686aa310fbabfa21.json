{"ast":null,"code":"var _jsxFileName = \"/Users/aizhanyl/Downloads/myshopSkin/src/components/Comments/Comments.jsx\",\n    _s = $RefreshSig$();\n\nimport { Grid, Button, makeStyles, TextField } from '@material-ui/core';\nimport axios from 'axios';\nimport React, { useEffect, useState, useMain, useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { API } from '../../helpers/constants';\nimport { useAuth } from '../../contexts/AuthContext';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport CommentsCard from './CommentsCard';\nimport { useProduct } from '../../contexts/ProductsContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  commentWindow: {\n    width: 600,\n    height: 300,\n    border: 'solid 2px black',\n    padding: 10,\n    overflow: 'scroll'\n  },\n  root: {\n    display: 'flex',\n    '& > * + *': {\n      marginLeft: theme.spacing(2)\n    }\n  },\n  input: {\n    width: 550\n  }\n}));\n\nconst Comments = () => {\n  _s();\n\n  const classes = useStyles();\n  const {\n    currentUser\n  } = useAuth();\n  const {\n    getProducts,\n    productDetails,\n    getDetails\n  } = useProduct();\n  const [value, setValue] = useState('');\n  const {\n    id\n  } = useParams();\n  const [product, setProduct] = useState('');\n  const [comment, setComment] = useState('');\n\n  const handleInp = e => {\n    let comment = {\n      comment: e.target.value,\n      user: currentUser.email\n    };\n    setComment(comment);\n    setValue(e.target.value);\n  };\n\n  useEffect(() => {\n    getDetails(id);\n  }, []);\n\n  const addComment = async () => {\n    productDetails.comments.push(comment);\n    setProduct(productDetails);\n    const data = await axios.patch(`${API}/${id}`, product);\n    getProducts();\n    setValue('');\n  }; // const dar = new Date(date,hours)\n  // console.log(dar)\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      justify: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        className: classes.commentWindow,\n        children: productDetails.comments ? productDetails.comments.map(item => /*#__PURE__*/_jsxDEV(CommentsCard, {\n          item: item\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.root,\n          children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n            color: \"secondary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        value: value,\n        className: classes.input,\n        onChange: handleInp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => addComment(product.id),\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(Comments, \"OmxNYg835b1xWq4Q45kPiFMh2oU=\", false, function () {\n  return [useStyles, useAuth, useProduct, useParams];\n});\n\n_c = Comments;\nexport default Comments;\n\nvar _c;\n\n$RefreshReg$(_c, \"Comments\");","map":{"version":3,"sources":["/Users/aizhanyl/Downloads/myshopSkin/src/components/Comments/Comments.jsx"],"names":["Grid","Button","makeStyles","TextField","axios","React","useEffect","useState","useMain","useContext","useParams","API","useAuth","CircularProgress","CommentsCard","useProduct","useStyles","theme","commentWindow","width","height","border","padding","overflow","root","display","marginLeft","spacing","input","Comments","classes","currentUser","getProducts","productDetails","getDetails","value","setValue","id","product","setProduct","comment","setComment","handleInp","e","target","user","email","addComment","comments","push","data","patch","map","item"],"mappings":"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","sourcesContent":["import { Grid, Button,makeStyles, TextField } from '@material-ui/core';\nimport axios from 'axios';\nimport React, { useEffect, useState ,useMain, useContext} from 'react';\nimport { useParams } from 'react-router-dom';\nimport { API} from '../../helpers/constants';\nimport { useAuth } from '../../contexts/AuthContext';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport CommentsCard from './CommentsCard';\nimport  { useProduct } from '../../contexts/ProductsContext';\nconst useStyles = makeStyles((theme) => ({\n    commentWindow: {\n        width: 600,\n        height: 300,\n        border: 'solid 2px black',\n        padding: 10,\n        overflow: 'scroll'\n    },\n    root: {\n        display: 'flex',\n        '& > * + *': {\n          marginLeft: theme.spacing(2),\n        },\n      },\n    input: {\n        width: 550\n    }\n}))\nconst Comments = () => {\n    const classes = useStyles()\n    const {currentUser} = useAuth()\n    const { getProducts,productDetails, getDetails } = useProduct()\n    const [value, setValue] = useState('')\n    const {id} = useParams()\n    const [product, setProduct] = useState('')\n    const [comment, setComment] = useState('')\n    const handleInp = (e) => {\n        let comment = {\n            comment: e.target.value,    \n            user: currentUser.email\n        }\n        setCommentÂ (comment)\n        setValue(e.target.value)\n    }\n    useEffect(()=> {\n        getDetails(id)\n    },[])\n    const addComment = async() => {\n        productDetails.comments.push(comment)\n        setProduct(productDetails)\n        const data = await axios.patch(`${API}/${id}`,product)\n        getProducts()\n        setValue('')\n    }\n        \n    // const dar = new Date(date,hours)\n    // console.log(dar)\n    return (\n        <>\n       \n        <Grid container justify=\"center\">\n            <Grid className={classes.commentWindow}>\n            {productDetails.comments ? (productDetails.comments.map((item) => (\n                <CommentsCard item={item}/>\n            ))\n            ) : (\n                <div className={classes.root}>\n                <CircularProgress color=\"secondary\" />\n              </div>\n            )}\n            </Grid>\n            <TextField value={value}className={classes.input} onChange={handleInp}/>\n            <Button onClick={() => addComment( product.id)}>Send</Button>\n        </Grid>\n          \n        </>\n    );\n};\n\nexport default Comments;"]},"metadata":{},"sourceType":"module"}