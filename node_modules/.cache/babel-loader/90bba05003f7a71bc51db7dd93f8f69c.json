{"ast":null,"code":"var _jsxFileName = \"/Users/aizhanyl/Downloads/myshopSkin/src/components/Product/ProductList.jsx\",\n    _s = $RefreshSig$();\n\nimport { Grid } from '@material-ui/core';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { productContext } from '../../contexts/ProductsContext';\nimport ProductCard from './ProductCard';\nimport { Pagination } from '@material-ui/lab';\nimport Filter from '../Filter/Filter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProductList = () => {\n  _s();\n\n  let history = useHistory();\n  const {\n    products,\n    getProducts,\n    paginatedPages\n  } = useContext(productContext);\n  const [page, setPage] = useState(getPage());\n  console.log(products);\n  useEffect(() => {\n    getProducts(history);\n  }, []);\n\n  function getPage(e, page) {\n    const search = new URLSearchParams(history.location.search);\n\n    if (!search.get('_page')) {\n      return 1;\n    }\n\n    return search.get('_page');\n  }\n\n  const handlePage = (e, pageVal) => {\n    const search = new URLSearchParams(history.location.search);\n    search.set('_page', pageVal);\n    history.push(`${history.location.pathname}?${search.toString()}`);\n    getProducts(history);\n    setPage(pageVal);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"back2\",\n      style: {\n        backgroundColor: ''\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        justify: \"space-evenly\",\n        style: {\n          marginTop: '0px'\n        },\n        children: products ? products.map((item, index) => /*#__PURE__*/_jsxDEV(ProductCard, {\n          item: item,\n          history: history\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 29\n        }, this)) : /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 26\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Pagination, {\n          count: paginatedPages,\n          color: \"primary\",\n          onChange: handlePage,\n          page: +page\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(ProductList, \"/v6bQk6sCGkxe6JhQLqBVsnjA9M=\", false, function () {\n  return [useHistory];\n});\n\n_c = ProductList;\nexport default ProductList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"sources":["/Users/aizhanyl/Downloads/myshopSkin/src/components/Product/ProductList.jsx"],"names":["Grid","React","useContext","useEffect","useState","useHistory","productContext","ProductCard","Pagination","Filter","ProductList","history","products","getProducts","paginatedPages","page","setPage","getPage","console","log","e","search","URLSearchParams","location","get","handlePage","pageVal","set","push","pathname","toString","backgroundColor","marginTop","map","item","index"],"mappings":";;;AAAA,SAASA,IAAT,QAAqB,mBAArB;AACA,OAAOC,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,cAAT,QAA+B,gCAA/B;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,kBAAnB;;;;AAEA,MAAMC,WAAW,GAAG,MAAM;AAAA;;AACtB,MAAIC,OAAO,GAAGN,UAAU,EAAxB;AACA,QAAM;AAAEO,IAAAA,QAAF;AAAYC,IAAAA,WAAZ;AAAyBC,IAAAA;AAAzB,MAA4CZ,UAAU,CAACI,cAAD,CAA5D;AACA,QAAM,CAACS,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAACa,OAAO,EAAR,CAAhC;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAYP,QAAZ;AACAT,EAAAA,SAAS,CAAC,MAAM;AACZU,IAAAA,WAAW,CAACF,OAAD,CAAX;AACH,GAFQ,EAEN,EAFM,CAAT;;AAIA,WAASM,OAAT,CAAiBG,CAAjB,EAAoBL,IAApB,EAA0B;AACtB,UAAMM,MAAM,GAAG,IAAIC,eAAJ,CAAoBX,OAAO,CAACY,QAAR,CAAiBF,MAArC,CAAf;;AACA,QAAI,CAACA,MAAM,CAACG,GAAP,CAAW,OAAX,CAAL,EAA0B;AACtB,aAAO,CAAP;AACH;;AACD,WAAOH,MAAM,CAACG,GAAP,CAAW,OAAX,CAAP;AACH;;AAED,QAAMC,UAAU,GAAG,CAACL,CAAD,EAAIM,OAAJ,KAAgB;AAC/B,UAAML,MAAM,GAAG,IAAIC,eAAJ,CAAoBX,OAAO,CAACY,QAAR,CAAiBF,MAArC,CAAf;AACAA,IAAAA,MAAM,CAACM,GAAP,CAAW,OAAX,EAAoBD,OAApB;AACAf,IAAAA,OAAO,CAACiB,IAAR,CAAc,GAAEjB,OAAO,CAACY,QAAR,CAAiBM,QAAS,IAAGR,MAAM,CAACS,QAAP,EAAkB,EAA/D;AACAjB,IAAAA,WAAW,CAACF,OAAD,CAAX;AACAK,IAAAA,OAAO,CAACU,OAAD,CAAP;AACH,GAND;;AAQA,sBACI;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAuB,MAAA,KAAK,EAAE;AAACK,QAAAA,eAAe,EAAC;AAAjB,OAA9B;AAAA,8BACA,QAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,OAAO,EAAE,CAAzB;AAA4B,QAAA,OAAO,EAAC,cAApC;AAAmD,QAAA,KAAK,EAAE;AAAEC,UAAAA,SAAS,EAAE;AAAb,SAA1D;AAAA,kBAEQpB,QAAQ,GACJA,QAAQ,CAACqB,GAAT,CAAa,CAACC,IAAD,EAAOC,KAAP,kBACT,QAAC,WAAD;AAAa,UAAA,IAAI,EAAED,IAAnB;AAAqC,UAAA,OAAO,EAAEvB;AAA9C,WAA8BwB,KAA9B;AAAA;AAAA;AAAA;AAAA,gBADJ,CADI,gBAIH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AANb;AAAA;AAAA;AAAA;AAAA,cADA,eAUA;AAAA,+BACI,QAAC,UAAD;AACI,UAAA,KAAK,EAAErB,cADX;AAEI,UAAA,KAAK,EAAC,SAFV;AAGI,UAAA,QAAQ,EAAEW,UAHd;AAII,UAAA,IAAI,EAAE,CAACV;AAJX;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,mBADJ;AAwBH,CAlDD;;GAAML,W;UACYL,U;;;KADZK,W;AAmDN,eAAeA,WAAf","sourcesContent":["import { Grid } from '@material-ui/core';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { productContext } from '../../contexts/ProductsContext';\nimport ProductCard from './ProductCard';\nimport { Pagination } from '@material-ui/lab';\nimport Filter from '../Filter/Filter';\n\nconst ProductList = () => {\n    let history = useHistory();\n    const { products, getProducts, paginatedPages } = useContext(productContext);\n    const [page, setPage] = useState(getPage())\n\n    console.log(products);\n    useEffect(() => {\n        getProducts(history)\n    }, [])\n\n    function getPage(e, page) {\n        const search = new URLSearchParams(history.location.search)\n        if (!search.get('_page')) {\n            return 1\n        }\n        return search.get('_page')\n    }\n\n    const handlePage = (e, pageVal) => {\n        const search = new URLSearchParams(history.location.search)\n        search.set('_page', pageVal)\n        history.push(`${history.location.pathname}?${search.toString()}`)\n        getProducts(history)\n        setPage(pageVal)\n    }\n\n    return (\n        <>\n            <div className=\"back2\" style={{backgroundColor:''}} >\n            <Grid container spacing={3} justify=\"space-evenly\" style={{ marginTop: '0px' }}>\n                {\n                    products ? (\n                        products.map((item, index) => (\n                            <ProductCard item={item} key={index} history={history} />\n                        ))\n                    ) : (<h1>Loading...</h1>)\n                }\n            </Grid>\n            <div>\n                <Pagination\n                    count={paginatedPages}\n                    color=\"primary\"\n                    onChange={handlePage}\n                    page={+page}\n                />\n            </div>\n            </div>\n            \n        </>\n    );\n};\nexport default ProductList;"]},"metadata":{},"sourceType":"module"}